<html>
<head>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.js"></script>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.min.js"></script>
</head>
<body>
	<h2>Pocket Stats!</h2>
	<h5><a href="https://github.com/sarthak-s/Pocket-Stats.git">Source</a></h5>
	<br>
	<br>
	{% if data %}
		<canvas id="myChart"></canvas>
	{% else %}
	  	<h3>Something's not right! Error! </h3>
	{% endif %}

	<script type="text/javascript">
		var data = {{data | tojson}};

		// Debug		
		console.log(data);
		labels = []
		values = []

		for(var item in data) {
			labels.push(item)
			values.push(data[item])
		}
		
		// Chart properties
		var data = {
				    labels: labels,
				    datasets: [
				        {
				            data: values,
				            backgroundColor: [
				                "#FF6384",
				                "#36A2EB",
				                "#FFCE56"
				            ],
				            hoverBackgroundColor: [
				                "#FF6384",
				                "#36A2EB",
				                "#FFCE56"
				            ]
				        }]
					};
		var options = { 
			    responsive: false, // Restrict the size
			    maintainAspectRatio: true
			}
		
		// Draw the pie chart
		var ctx = document.getElementById("myChart").getContext("2d");
		ctx.canvas.width = 500;
		ctx.canvas.height = 500;
		var myPieChart = new Chart(ctx,{
		    type: 'pie',
		    data: data,
		    options: options,
			animation:{
				animateScale:true
			}
		});

	</script>

</body>

<html>